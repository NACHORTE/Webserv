<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>webserv</title>
    <link rel="stylesheet" href="/css/index.css">
    <link rel="icon" href="/img/favicon.ico" type="image/x-icon">
</head>
<body>
    <h1>El Nacio que no trabaja</h1>
    <img src="/img/goku.png" alt="Sample Image">
    
    <form action="/upload" method="post" enctype="multipart/form-data">
        <input type="file" name="file" accept="image/*">
        <input type="text" name="data1">
        <input type="submit">
    </form>

    <form action="/google.com" method="get">
        <button type="submit">Nos vamos a Google</button>
    </form>

    <form action="/titer" method="get">
        <button type="submit">Nos vamos a Titer</button>
    </form>

    <form id="postForm" method="post">
        <input type="text" id="postPath" placeholder="Enter path" required>
        <button type="button" onclick="submitPostForm()">Enviar POST</button>
    </form>

    <!-- New form for DELETE -->
    <form id="deleteForm" method="post">
        <input type="text" id="deleteFileName" placeholder="Enter file name to delete" required>
        <button type="button" onclick="submitDeleteForm()">Eliminar Archivo</button>
    </form>

    <script>
        function submitPostForm() {
            const form = document.getElementById('postForm');
            const path = document.getElementById('postPath').value;
            form.action = path;
            form.submit();
        }

        function submitDeleteForm() {
            const fileName = document.getElementById('deleteFileName').value;
            const url = `/upload/${fileName}`;
            fetch(url, {
                method: 'DELETE'
            }).then(response => {
                if (response.ok) {
                    alert('Archivo eliminado exitosamente.');
                } else {
                    alert('Error al eliminar el archivo.');
                }
            }).catch(error => {
                console.error('Error:', error);
                alert('Error al eliminar el archivo.');
            });
        }
    </script>
</body>
</html>
